# 解压工具产品需求文档 (PRD)

## 产品概述

### 产品名称
**QuickExtract** - 轻量级跨平台解压工具

### 产品定位
一款简洁、快速的跨平台解压工具，支持常见压缩格式，提供预览功能和拖拽操作，为用户带来流畅的解压体验。

### 目标用户
- 需要频繁处理压缩文件的开发者
- 设计师、内容创作者（经常接收素材包）
- 普通办公用户（简单易用的需求）

---

## 功能需求

### 1. 核心功能 - 解压文件

#### 1.1 支持格式
| 格式 | 优先级 | 备注 |
|------|--------|------|
| ZIP | P0 | 最常见格式，必须支持 |
| 7z | P0 | 开源格式，广泛使用 |
| tar.gz / tar.bz2 | P0 | Unix/Linux 常见格式 |
| RAR | P1 | 需要处理授权问题（见下文） |
| tar | P1 | Unix 标准格式 |
| gzip / bzip2 | P1 | 单文件压缩格式 |
| iso | P2 | 光盘镜像（可选） |
| xz | P2 | 高压缩比格式 |

**RAR 格式处理方案：**
- 方案 A：使用 `unrar` 命令行工具（免费解压，不支持创建）
- 方案 B：集成第三方 RAR 库（需注意授权）
- 推荐：方案 A，调用系统 unrar 或内置 unrar 二进制

#### 1.2 解压操作方式
1. **拖拽解压** - 将文件拖入窗口即可解压
2. **右键菜单** - 系统右键菜单集成（Windows/Mac）
3. **文件选择** - 通过文件选择器打开
4. **命令行参数** - 支持命令行启动并解压（可选）

#### 1.3 解压选项
- [ ] 选择解压目标路径
- [ ] 解压时保留目录结构
- [ ] 覆盖/跳过/重命名重复文件
- [ ] 解压完成后自动打开目标文件夹
- [ ] 解压密码输入（加密压缩包）

### 2. 核心功能 - 预览压缩包内容

#### 2.1 预览信息
- 文件/文件夹名称
- 文件大小（原始大小 + 压缩后大小）
- 文件类型图标
- 修改日期
- 目录树结构

#### 2.2 预览操作
- 双击文件：预览文件内容（文本、图片等）
- 右键菜单：解压单个文件/文件夹
- 搜索过滤：快速查找文件

#### 2.3 性能要求
- 预览响应时间 < 500ms（小文件）
- 大文件列表支持虚拟滚动
- 异步加载，不阻塞 UI

### 3. 界面设计

#### 3.1 主界面布局
```
┌─────────────────────────────────────────┐
│  QuickExtract                    [─][□][×] │
├─────────────────────────────────────────┤
│                                         │
│     ┌───────────────────────────┐       │
│     │                           │       │
│     │    拖拽文件到此处解压      │       │
│     │                           │       │
│     │       或点击选择文件        │       │
│     │                           │       │
│     └───────────────────────────┘       │
│                                         │
├─────────────────────────────────────────┤
│  📂 最近解压:                            │
│  • project.zip (2分钟前)                 │
│  • assets.7z (昨天)                      │
│  • backup.tar.gz (3天前)                 │
└─────────────────────────────────────────┘
```

#### 3.2 预览界面
```
┌─────────────────────────────────────────┐
│  project.zip - 内容预览         [─][□][×] │
├─────────────────────────────────────────┤
│ 📁 src/                    1.2 MB        │
│   📁 components/           500 KB        │
│   📄 index.js              25 KB         │
│ 📁 public/                 200 KB        │
│ 📄 package.json            2 KB          │
│ 📄 README.md               5 KB          │
├─────────────────────────────────────────┤
│ [解压全部] [解压选中] [取消]             │
└─────────────────────────────────────────┘
```

#### 3.3 设计原则
- 简洁：核心操作一目了然
- 快速：启动快、响应快
- 原生：遵循平台设计规范（Windows 11 / macOS）

### 4. 辅助功能

#### 4.1 文件关联
- 自动关联支持的压缩格式
- 用户可选择性关联

#### 4.2 历史记录
- 最近解压的文件列表
- 快速重新解压

#### 4.3 设置选项
- 默认解压路径
- 解压后操作（打开文件夹、删除原文件等）
- 界面语言
- 更新检查

---

## 用户故事

### US-1: 快速解压
**作为** 一名设计师  
**我想要** 拖拽压缩包到应用窗口即可解压  
**以便于** 快速获取素材文件，无需复杂操作  

**验收标准：**
- [ ] 拖拽 ZIP 文件到窗口，立即开始解压
- [ ] 显示解压进度
- [ ] 解压完成后提示用户

### US-2: 预览内容
**作为** 一名开发者  
**我想要** 在解压前查看压缩包内容  
**以便于** 确认是否是我需要的文件，或只解压部分文件  

**验收标准：**
- [ ] 双击压缩包打开预览界面
- [ ] 显示文件列表和目录结构
- [ ] 可选择部分文件解压

### US-3: 处理加密文件
**作为** 一名用户  
**我想要** 解压加密的压缩包  
**以便于** 访问受保护的文件  

**验收标准：**
- [ ] 检测到加密时弹出密码输入框
- [ ] 密码错误时提示重新输入
- [ ] 支持记住密码（可选）

### US-4: 跨平台一致体验
**作为** 一名 Mac 用户  
**我想要** 在 Mac 和 Windows 上有一致的使用体验  
**以便于** 无需重新学习操作方式  

**验收标准：**
- [ ] Windows 和 Mac 功能一致
- [ ] 界面风格符合各自平台规范
- [ ] 快捷键一致（适当调整）

---

## 非功能需求

### 性能要求
| 指标 | 目标值 |
|------|--------|
| 应用启动时间 | < 1s |
| 预览小文件响应 | < 500ms |
| 解压 100MB 文件 | 根据磁盘速度 |
| 内存占用（空闲） | < 100MB |

### 安全要求
- 检测恶意文件（如 Zip Slip 漏洞）
- 防止路径遍历攻击
- 安全解压到指定目录

### 兼容性
- **Windows:** Windows 10 及以上
- **macOS:** macOS 10.15 (Catalina) 及以上

---

## 验收标准

### MVP 版本 (v1.0)
- [ ] 支持 ZIP、7z、tar.gz 格式解压
- [ ] 拖拽解压功能
- [ ] 预览压缩包内容
- [ ] 选择解压路径
- [ ] Windows 和 Mac 双平台可用

### 后续版本 (v1.1+)
- [ ] RAR 格式支持
- [ ] 右键菜单集成
- [ ] 解压加密文件
- [ ] 部分解压功能
- [ ] 文件关联

---

## 风险与约束

### 技术风险
1. **RAR 格式授权** - 使用 unrar 工具规避授权问题
2. **大文件性能** - 需要流式处理避免内存溢出
3. **跨平台差异** - 需要充分测试

### 项目约束
- 开发周期：建议 2-3 周完成 MVP
- 技术栈：待定（见技术方案文档）

---

## 附录

### 竞品分析
| 产品 | 优点 | 缺点 |
|------|------|------|
| 7-Zip | 免费、格式全 | Windows only，界面老旧 |
| The Unarchiver | Mac 原生体验 | 无预览功能 |
| Bandizip | 功能全面 | 免费版有广告 |
| Keka | 简洁 | 无预览，功能单一 |

### 我们的优势
- ✅ 跨平台支持
- ✅ 预览功能
- ✅ 简洁现代的界面
- ✅ 免费无广告
